<ion-view view-title="乐益" ng-controller="TabRecommendationController as recCtrl">

    <ion-content>
        <style>
            .block h1 {
                font-size: 16px;
                font-weight: 500;
                color: #444;
                padding: 1px 0 1px 6px;
                margin: 17px;
                border-left: 3px solid #f27405;
            }
        </style>
        <div ng-if="carousels.length">
            <ion-slide-box active-slide="1" auto-play="true" slide-interval="1200" does-continue="true"
                           show-pager="false"
                           style="border-bottom: 1px solid grey;background-color: #ffed99;">
                <ion-slide ng-repeat="carousel in carousels">
                    <div style="width: 100%;height: 89px;text-align: center">
                        <a ng-click="recCtrl.urlParserService.navigate(carousel.link)">
                            <div style="height: 100%;">
                                <img ly-src="{{carousel.image_url}}"
                                     style="max-width: 100%;height: 100%;z-index: 99999">
                            </div>
                        </a>

                        <div
                            style="position:absolute;top:69px;width: 100%;color: #f5f5f5;background-color: #333;opacity: 0.73">
                            <span>{{carousel.title}}</span></div>
                    </div>
                </ion-slide>
            </ion-slide-box>
        </div>
        <div class="block">
            <h1>志愿者活动精选</h1>

            <ion-scroll direction="x" scrollbar-x="false" has-bouncing="true"
                        style="margin: 10px; height: 102px; white-space: nowrap">
                <div style="display: inline-block; margin-left: 20px;width: 80px;height: 102px;"
                     ng-repeat="item in featured"
                     ng-if="featured.length"
                     ng-click="showActivity(item.id)"
                    >
                    <img ly-src="{{item.event_pic}}" style="width: 80px;height: 80px" alt=""/>

                    <p style="position: relative;top: 0;width: 80px;text-align: center;height: 20px;overflow: hidden;font-size: 11px;color:#808080">
                        {{::item.name}}
                    </p>
                </div>
            </ion-scroll>
        </div>
        <div class="block">
            <h1>您可能会感兴趣的活动</h1>

            <ion-scroll direction="x" scrollbar-x="false" has-bouncing="true"
                        style="margin: 10px; height: 102px; white-space: nowrap">
                <div style="float: left;margin-left: 20px;width: 80px;height: 102px;"
                     ng-repeat="item in recommendation" ng-if="recommendation.length"
                     ng-click="showActivity(item.id)">
                    <img ly-src="{{item.event_pic}}" style="width: 80px;height: 80px" alt=""/>

                    <p style="position: relative;top: 0;width: 80px;text-align: center;height: 20px;overflow: hidden;font-size: 11px;color:#808080">
                        {{::item.name}}
                    </p>
                </div>
            </ion-scroll>
        </div>
        <!--<div class="block">-->
        <!--<h1>离您最近的活动</h1>-->

        <!--<ion-scroll direction="x" scrollbar-x="false" has-bouncing="true"-->
        <!--style="margin: 10px; height: 102px; white-space: nowrap">-->
        <!--<div style="float: left;margin-left: 20px;width: 80px;height: 102px;"-->
        <!--ng-repeat="item in closest"-->
        <!--ng-if="closest.length"-->
        <!--ng-click="showActivity(item.id)">-->

        <!--<img ly-src="{{item.event_pic}}" style="width: 80px;height: 80px" alt=""/>-->

        <!--<p style="position: relative;top: 0;width: 80px;text-align: center;height: 20px;overflow: hidden;font-size: 11px;color:#808080">-->
        <!--{{::item.name}}-->
        <!--</p>-->
        <!--</div>-->
        <!--</ion-scroll>-->
        <!--</div>-->


        <div class="block">
            <h1>最新动态</h1>

            <ion-scroll direction="x" scrollbar-x="false" has-bouncing="true"
                        style="margin: 10px; height: 102px; white-space: nowrap">
                <div style="float: left;margin-left: 20px;width: 80px;height: 102px" ng-repeat="item in news"
                     ng-if="featured.length" ui-sref="news-detail({id: {{item.id}} })">
                    <img ly-src="{{item.news_pic}}" style="width: 80px;height: 80px" alt=""/>

                    <p style="position: relative;top: 0;width: 80px;text-align: center;height: 20px;overflow: hidden;font-size: 11px;color:#808080">
                        {{::item.news_title}}
                    </p>
                </div>
            </ion-scroll>
        </div>

        <div style="margin:0 16px">
            <button class="button button-block button-outline button-positive" style="opacity: 0.9"
                    ng-click="discoverMore()">发现更多
            </button>
        </div>

    </ion-content>
</ion-view>
